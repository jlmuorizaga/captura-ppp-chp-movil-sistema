"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5760],{5760:(b,c,t)=>{t.r(c),t.d(c,{RegionesPage:()=>p});var _=t(467),g=t(177),u=t(4341),r=t(5337),d=t(7803),e=t(4438),m=t(3286),R=t(8986);function E(s,a){if(1&s){const i=e.RV6();e.j41(0,"ion-item")(1,"ion-label")(2,"strong"),e.EFF(3),e.k0s()(),e.j41(4,"ion-button",7),e.bIt("click",function(){const n=e.eBV(i).$implicit,l=e.XpG(2);return e.Njj(l.confirmaBorrar(n))}),e.EFF(5,"Borrar"),e.k0s(),e.j41(6,"ion-button"),e.EFF(7,"Editar"),e.k0s(),e.nrm(8,"br"),e.k0s()}if(2&s){const i=a.$implicit;e.R7$(3),e.Lme("",i.idRegion," ",i.nombreRegion,"")}}function h(s,a){if(1&s&&e.Z7z(0,E,9,2,"ion-item",null,e.Vm6),2&s){const i=e.XpG();e.Dyx(i.regiones)}}let p=(()=>{var s;class a{constructor(o,n,l,P){this.regionesSvc=o,this.alertController=n,this.router=l,this.cdr=P,this.mensaje="Estoy en el constructor"}ngOnInit(){this.leerRegiones()}leerRegiones(){this.regionesSvc.dameListaRegiones().subscribe({next:o=>{console.log("Servicio leido de forma exitosa"),console.log(o),this.regiones=o,console.log(this.regiones),this.cdr.detectChanges()},error:o=>{console.log("Error en la lectura del servicio"),console.log(o)}})}borraRegion(o){console.log("Voy a borrar esta regi\xf3n="+o),this.regionesSvc.borraRegion(o).subscribe({next:n=>{console.log("Regi\xf3n borrada de forma exitosa"),console.log(n),this.leerRegiones()},error:n=>{console.log("Error en el borrado de la regi\xf3n"),console.log(n)}})}confirmaBorrar(o){var n=this;return(0,_.A)(function*(){yield(yield n.alertController.create({header:"Confirmaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas borrar la regi\xf3n "+o.nombreRegion+" ?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Operaci\xf3n cancelada")}},{text:"Aceptar",handler:()=>{console.log("Operaci\xf3n confirmada"),n.borraRegion(o.idRegion)}}]})).present()})()}saltaAInsertarRegion(){this.router.navigateByUrl("/insertar-region")}}return(s=a).\u0275fac=function(o){return new(o||s)(e.rXU(m.S),e.rXU(r.hG),e.rXU(R.Ix),e.rXU(e.gRc))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-regiones"]],standalone:!0,features:[e.aNF],decls:16,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"text-align","center"],["color","success",3,"click"],["color","danger",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"regiones"),e.k0s(),e.j41(4,"ion-buttons",1),e.nrm(5,"ion-back-button"),e.k0s()()(),e.j41(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),e.EFF(10,"regiones"),e.k0s()()(),e.j41(11,"p",5)(12,"ion-button",6),e.bIt("click",function(){return n.saltaAInsertarRegion()}),e.EFF(13,"Insertar Regi\xf3n"),e.k0s()(),e.j41(14,"ion-list"),e.DNE(15,h,2,0),e.k0s()()),2&o&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(9),e.vxM(15,n.regiones?15:-1))},dependencies:[d.G,r.uz,r.he,r.nf,r.el,r.Jm,r.QW,r.W9,r.eU,r.BC,r.ai,g.MD,u.YN]}),a})()}}]);